<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cài đặt Trình chiếu - Theme Manager</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        * { 
            font-family: 'Inter', sans-serif; 
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .theme-card {
            transition: all 0.3s ease;
            border: 3px solid transparent;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }
        
        .theme-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }
        
        .theme-card.selected {
            border-color: #3b82f6;
            background: rgba(59, 130, 246, 0.1);
        }
        
        .preview-box {
            width: 100%;
            height: 120px;
            border-radius: 8px;
            background: linear-gradient(45deg, #f3f4f6, #e5e7eb);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 12px;
            overflow: hidden;
        }
        
        .theme-classic .preview-box {
            background: linear-gradient(135deg, #1e3a8a, #3b82f6, #60a5fa, #dbeafe);
        }
        
        .theme-modern .preview-box {
            background: linear-gradient(135deg, #0f0f23, #1a1a2e, #16213e, #0f3460);
        }
        
        .theme-elegant .preview-box {
            background: linear-gradient(135deg, #4c1d95, #7c3aed, #a855f7, #c084fc);
        }
        
        .mini-circle {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin: 0 2px;
            opacity: 0.8;
        }
        
        .setting-item {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
            transition: all 0.3s ease;
        }
        
        .setting-item:hover {
            background: rgba(255, 255, 255, 1);
            transform: translateX(5px);
        }
        
        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 8s infinite linear;
        }
        
        .particle:nth-child(1) { width: 8px; height: 8px; left: 10%; animation-delay: 0s; }
        .particle:nth-child(2) { width: 12px; height: 12px; left: 20%; animation-delay: 1s; }
        .particle:nth-child(3) { width: 6px; height: 6px; left: 30%; animation-delay: 2s; }
        .particle:nth-child(4) { width: 10px; height: 10px; left: 40%; animation-delay: 3s; }
        .particle:nth-child(5) { width: 14px; height: 14px; left: 50%; animation-delay: 4s; }
        
        @keyframes float {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
        }
        
        .content-container {
            position: relative;
            z-index: 10;
        }
    </style>
</head>
<body class="min-h-screen">
    <!-- Floating particles background -->
    <div class="floating-particles">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
    </div>

    <div class="content-container min-h-screen flex items-center justify-center p-4">
        <div class="w-full max-w-6xl space-y-8">
            <!-- Header -->
            <div class="text-center text-white mb-8">
                <h1 class="text-4xl font-bold mb-2">
                    <i class="fas fa-palette mr-3"></i>
                    Theme Manager
                </h1>
                <p class="text-xl opacity-90">Quản lý giao diện và cài đặt trình chiếu</p>
            </div>

            <!-- Theme Selection -->
            <div class="bg-white/10 backdrop-blur-lg rounded-2xl p-6 mb-8">
                <h2 class="text-2xl font-bold text-white mb-6 flex items-center">
                    <i class="fas fa-swatchbook mr-3"></i>
                    Chọn Theme Giao Diện
                </h2>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <!-- Theme Classic -->
                    <div class="theme-card theme-classic rounded-xl p-6 cursor-pointer" data-theme="classic">
                        <div class="preview-box">
                            <div class="flex space-x-1">
                                <div class="mini-circle bg-green-400"></div>
                                <div class="mini-circle bg-red-400"></div>
                                <div class="mini-circle bg-purple-400"></div>
                            </div>
                        </div>
                        <h3 class="text-lg font-bold text-gray-800 mb-2">Classic Theme</h3>
                        <p class="text-sm text-gray-600">Thiết kế truyền thống với gradient xanh dương</p>
                        <div class="mt-3 flex items-center text-blue-600">
                            <i class="fas fa-check-circle mr-2"></i>
                            <span class="text-sm font-semibold">Phiên bản hiện tại</span>
                        </div>
                    </div>
                    
                    <!-- Theme Modern -->
                    <div class="theme-card theme-modern rounded-xl p-6 cursor-pointer" data-theme="modern">
                        <div class="preview-box">
                            <div class="flex space-x-1">
                                <div class="mini-circle bg-blue-300"></div>
                                <div class="mini-circle bg-indigo-300"></div>
                                <div class="mini-circle bg-purple-300"></div>
                            </div>
                        </div>
                        <h3 class="text-lg font-bold text-gray-800 mb-2">Modern Theme</h3>
                        <p class="text-sm text-gray-600">Thiết kế hiện đại với tông màu tối và hình tròn</p>
                        <div class="mt-3 flex items-center text-green-600">
                            <i class="fas fa-star mr-2"></i>
                            <span class="text-sm font-semibold">Mới cập nhật</span>
                        </div>
                    </div>
                    
                    <!-- Theme Elegant -->
                    <div class="theme-card theme-elegant rounded-xl p-6 cursor-pointer" data-theme="elegant">
                        <div class="preview-box">
                            <div class="flex space-x-1">
                                <div class="mini-circle bg-purple-300"></div>
                                <div class="mini-circle bg-pink-300"></div>
                                <div class="mini-circle bg-indigo-300"></div>
                            </div>
                        </div>
                        <h3 class="text-lg font-bold text-gray-800 mb-2">Elegant Theme</h3>
                        <p class="text-sm text-gray-600">Thiết kế thanh lịch với màu tím và hiệu ứng cao cấp</p>
                        <div class="mt-3 flex items-center text-purple-600">
                            <i class="fas fa-clock mr-2"></i>
                            <span class="text-sm font-semibold">Sắp ra mắt</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings Panel -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Display Settings -->
                <div class="bg-white/10 backdrop-blur-lg rounded-2xl p-6">
                    <h3 class="text-xl font-bold text-white mb-4 flex items-center">
                        <i class="fas fa-display mr-3"></i>
                        Cài Đặt Hiển Thị
                    </h3>
                    
                    <div class="space-y-4">
                        <div class="setting-item">
                            <label for="displayMode" class="font-semibold text-gray-700 block mb-2">Kiểu hiển thị đáp án</label>
                            <select id="displayMode" class="w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500">
                                <option value="1">Lần lượt hiện kèm âm thanh</option>
                                <option value="2">Hiện hết rồi đọc từng phương án</option>
                            </select>
                        </div>
                        
                        <div class="setting-item">
                            <div class="flex items-center justify-between">
                                <label for="useSpeech" class="font-semibold text-gray-700">Sử dụng âm thanh</label>
                                <input id="useSpeech" type="checkbox" class="h-5 w-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500">
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="flex items-center justify-between">
                                <label for="autoStart" class="font-semibold text-gray-700">Tự động bắt đầu</label>
                                <input id="autoStart" type="checkbox" class="h-5 w-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500">
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Font Settings -->
                <div class="bg-white/10 backdrop-blur-lg rounded-2xl p-6">
                    <h3 class="text-xl font-bold text-white mb-4 flex items-center">
                        <i class="fas fa-font mr-3"></i>
                        Cài Đặt Font Chữ
                    </h3>
                    
                    <div class="space-y-4">
                        <div class="setting-item">
                            <label for="questionFont" class="font-semibold text-gray-700 block mb-2">Cỡ chữ câu hỏi</label>
                            <div class="flex items-center space-x-3">
                                <input id="questionFont" type="range" min="16" max="60" class="flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                                <span id="questionFontValue" class="font-mono text-sm bg-gray-100 px-2 py-1 rounded">24px</span>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <label for="optionFont" class="font-semibold text-gray-700 block mb-2">Cỡ chữ đáp án</label>
                            <div class="flex items-center space-x-3">
                                <input id="optionFont" type="range" min="14" max="60" class="flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                                <span id="optionFontValue" class="font-mono text-sm bg-gray-100 px-2 py-1 rounded">20px</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="flex justify-between items-center pt-6">
                <a href="question-manager.html" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-all duration-300 flex items-center">
                    <i class="fas fa-list mr-2"></i>
                    Quản lý câu hỏi
                </a>
                
                <div class="space-x-4">
                    <button id="resetBtn" class="bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg font-semibold transition-all duration-300">
                        <i class="fas fa-undo mr-2"></i>
                        Đặt lại
                    </button>
                    <button id="backBtn" class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold transition-all duration-300">
                        <i class="fas fa-arrow-left mr-2"></i>
                        Quay lại
                    </button>
                </div>
            </div>
        </div>
    </div>

<script>
// Theme configuration
const THEMES = {
    classic: {
        index: 'index.html',
        page3: 'page3.html',
        infovong1: 'infovong1.html',
        infovong2: 'infovong2.html',
        infovong3: 'infovong3.html',
        thuchanh: 'thuchanh.html'
    },
    modern: {
        index: 'indexv2.html',
        page3: 'page3v2.html',
        infovong1: 'infovong1v2.html',
        infovong2: 'infovong2v2.html',
        infovong3: 'infovong3v2.html',
        thuchanh: 'thuchanhv2.html'
    },
    elegant: {
        index: 'indexv3.html',
        page3: 'page3v3.html',
        infovong1: 'infovong1v3.html',
        infovong2: 'infovong2v3.html',
        infovong3: 'infovong3v3.html',
        thuchanh: 'thuchanhv3.html'
    }
};

function loadSettings() {
    // Load theme
    const currentTheme = localStorage.getItem('currentTheme') || 'classic';
    selectTheme(currentTheme);
    
    // Load other settings
    document.getElementById('displayMode').value = localStorage.getItem('displayMode') || '1';
    document.getElementById('useSpeech').checked = localStorage.getItem('useSpeech') !== 'false';
    document.getElementById('autoStart').checked = localStorage.getItem('autoStart') === 'true';
    
    const questionFont = localStorage.getItem('fontSizeQuestion') || 24;
    const optionFont = localStorage.getItem('fontSizeOption') || 20;
    
    document.getElementById('questionFont').value = questionFont;
    document.getElementById('optionFont').value = optionFont;
    document.getElementById('questionFontValue').textContent = questionFont + 'px';
    document.getElementById('optionFontValue').textContent = optionFont + 'px';
}

function saveSetting(key, value) { 
    localStorage.setItem(key, value); 
}

function selectTheme(themeName) {
    // Remove previous selection
    document.querySelectorAll('.theme-card').forEach(card => {
        card.classList.remove('selected');
    });
    
    // Add selection to current theme
    const selectedCard = document.querySelector(`[data-theme="${themeName}"]`);
    if (selectedCard) {
        selectedCard.classList.add('selected');
    }
    
    // Save theme and page mappings
    saveSetting('currentTheme', themeName);
    const theme = THEMES[themeName];
    
    // Save individual page mappings
    Object.keys(theme).forEach(pageType => {
        saveSetting(`page_${pageType}`, theme[pageType]);
    });
}

function resetSettings() {
    if (confirm('Bạn có chắc chắn muốn đặt lại tất cả cài đặt về mặc định?')) {
        localStorage.clear();
        loadSettings();
    }
}

function navigateBack() {
    const currentTheme = localStorage.getItem('currentTheme') || 'classic';
    const mainPage = THEMES[currentTheme].page3;
    window.location.href = mainPage;
}

window.addEventListener('DOMContentLoaded', () => {
    loadSettings();
    
    // Theme selection
    document.querySelectorAll('.theme-card').forEach(card => {
        card.addEventListener('click', () => {
            const themeName = card.dataset.theme;
            selectTheme(themeName);
        });
    });
    
    // Settings event listeners
    document.getElementById('displayMode').addEventListener('change', e => saveSetting('displayMode', e.target.value));
    document.getElementById('useSpeech').addEventListener('change', e => saveSetting('useSpeech', e.target.checked));
    document.getElementById('autoStart').addEventListener('change', e => saveSetting('autoStart', e.target.checked));
    
    // Font size sliders
    document.getElementById('questionFont').addEventListener('input', e => {
        const value = e.target.value;
        document.getElementById('questionFontValue').textContent = value + 'px';
        saveSetting('fontSizeQuestion', value);
    });
    
    document.getElementById('optionFont').addEventListener('input', e => {
        const value = e.target.value;
        document.getElementById('optionFontValue').textContent = value + 'px';
        saveSetting('fontSizeOption', value);
    });
    
    // Button event listeners
    document.getElementById('resetBtn').addEventListener('click', resetSettings);
    document.getElementById('backBtn').addEventListener('click', navigateBack);
    
    // Keyboard navigation
    document.addEventListener('keydown', e => { 
        if (e.key.toLowerCase() === 'q') {
            navigateBack();
        }
    });
});
</script>
</body>
</html>
